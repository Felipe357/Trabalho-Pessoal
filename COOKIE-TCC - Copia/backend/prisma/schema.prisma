// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Usuario {
  id       Int        @id @default(autoincrement())
  nome     String
  celular  String     @unique
  senha    String
  tipo     Boolean    @default(false)
  venda    Vendas[]
  endereco Endereco[]
}

model Endereco {
  id         Int     @id @default(autoincrement())
  id_usuario Int
  cep        String?
  cidade     String
  bairro     String
  rua        String
  numero     String
  descricao  String?
  usuario    Usuario @relation(fields: [id_usuario], references: [id])
}

model Cliente {
  id Int @id @default(autoincrement())
  nome String
  celular String @unique
  endereco EnderecoCli[]
}

model EnderecoCli {
  id         Int     @id @default(autoincrement())
  id_cliente Int
  cep        String?
  cidade     String
  bairro     String
  rua        String
  numero     String
  descricao  String?
  cliente    Cliente @relation(fields: [id_cliente], references: [id])
}

model Produtos {
  id    Int     @id @default(autoincrement())
  nome  String
  valor Float
  dispo Boolean @default(false)
  qntd  Int?
  itens Itens[]
}

model Itens {
  id         Int      @id @default(autoincrement())
  id_produto Int
  id_venda   Int
  produtos   Produtos @relation(fields: [id_produto], references: [id])
  venda      Vendas   @relation(fields: [id_venda], references: [id])
}

model Vendas {
  id         Int      @id @default(autoincrement())
  data       DateTime @default(now())
  id_usuario Int
  cliente    String?
  total      Float
  pagamento  String?
  marcou     Boolean  @default(false)
  entrega    Boolean  @default(false)
  usuario    Usuario  @relation(fields: [id_usuario], references: [id])
  itens      Itens[]
}

model Mesas {
  id Int @id @default(autoincrement())
  numero Int
}